import{l as R,s as A,f as h,o,c as a,e as r,g as y,w as i,a as t,F as c,m,t as p,h as U,i as D,b as u,n as T,v as j,d as C,p as F,q as M}from"./index-0d440acb.js";import{a as g,_ as f}from"./Alert-82e7b876.js";import{_ as q}from"./Button-b9c67bb3.js";import{u as V}from"./users-6b2e9ec9.js";const z={class:"flex min-h-[300px] justify-center"},P={key:0,class:"text-white text-center font-medium"},G={key:1,class:"w-2/5 bg-white rounded-sm shadow-sm py-8 px-10 flex flex-col"},H={class:"text-left list-disc px-4"},I={class:"text-left list-disc px-4"},J=t("div",{class:"flex justify-between items-center mb-6"},[t("h3",{class:"text-slate-500 text-2xl font-medium text-left"}," Update User ")],-1),K={class:"flex flex-col gap-4"},O={class:"flex flex-col"},Q={class:"flex flex-col"},W={class:"flex flex-col"},X={class:"flex flex-col"},Y=t("option",{value:""},"--- Select User Type ---",-1),Z=["value"],ae={__name:"EditUser",setup(ee){const{params:b}=F(),w=M(),k=R(),{getUserLoading:L,updateUserLoading:E,getUserError:x,updateUserError:_}=A(V()),{getUser:S,updateUser:$}=V(),l=h({username:"",email:"",phone:"",role:""}),B=async()=>{try{const n=await S(b.id),{user:s,role:e}=n.data;l.value={username:s.username,email:s.email,phone:s.phone,role:e[0]}}catch{w.push({name:"users"})}},v=h([]),N=async()=>{const n=await k.get("roles");v.value=n.data};return B(),N(),(n,s)=>(o(),a("div",z,[r(L)?(o(),a("span",P,"Loading...")):(o(),a("div",G,[r(x)?(o(),y(g,{key:0,type:"error"},{default:i(()=>[t("ul",H,[(o(!0),a(c,null,m(r(x).errors,(e,d)=>(o(),a("li",{key:d},p(e),1))),128))])]),_:1})):U("",!0),r(_)?(o(),y(g,{key:1,type:"error"},{default:i(()=>[t("ul",I,[(o(!0),a(c,null,m(r(_).errors,(e,d)=>(o(),a("li",{key:d},p(e),1))),128))])]),_:1})):U("",!0),J,t("div",K,[t("form",{onSubmit:s[4]||(s[4]=D(e=>r($)(n.$route.params.id,l.value),["prevent"])),class:"flex flex-col gap-4"},[t("div",O,[u(f,{type:"text",modelValue:l.value.username,"onUpdate:modelValue":s[0]||(s[0]=e=>l.value.username=e),placeholder:"Username"},null,8,["modelValue"])]),t("div",Q,[u(f,{type:"email",modelValue:l.value.email,"onUpdate:modelValue":s[1]||(s[1]=e=>l.value.email=e),placeholder:"Email Address"},null,8,["modelValue"])]),t("div",W,[u(f,{type:"number",modelValue:l.value.phone,"onUpdate:modelValue":s[2]||(s[2]=e=>l.value.phone=e),placeholder:"Phone"},null,8,["modelValue"])]),t("div",X,[T(t("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>l.value.role=e),class:"py-2 px-3 border border-slate-300 outline-none focus:border-blue-500 focus:ring-blue-500 rounded-md"},[Y,(o(!0),a(c,null,m(v.value,e=>(o(),a("option",{key:e.id,value:e.slug},p(e.name),9,Z))),128))],512),[[j,l.value.role]])]),t("div",null,[u(q,{size:"full",type:"submit",isLoading:r(E)},{default:i(()=>[C(" Update ")]),_:1},8,["isLoading"])])],32)])]))]))}};export{ae as default};
